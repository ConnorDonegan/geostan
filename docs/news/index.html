<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • geostan</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://connordonegan.github.io/geostan/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-116873024-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116873024-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geostan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ConnorDonegan/geostan/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/ConnorDonegan/geostan/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="geostan-040">geostan 0.4.0<small>2022-09-20</small><a class="anchor" aria-label="anchor" href="#geostan-040"></a></h2>
<div class="section level3">
<h3 id="new-additions-0-4-0">New Additions<a class="anchor" aria-label="anchor" href="#new-additions-0-4-0"></a></h3>
<div class="section level4">
<h4 id="sar-models-0-4-0">SAR models<a class="anchor" aria-label="anchor" href="#sar-models-0-4-0"></a></h4>
<p>The simultaneously-specified spatial autoregressive (SAR) model—referred to as the spatial error model (SEM) in the spatial econometrics literature—has been implemented. The SAR model can be applied directly to continuous data (as the likelihood function) or it can be used as prior model for spatially autocorrelated parameters. Details are provided on the documentation page for the <code>stan_sar</code> function.</p>
</div>
</div>
<div class="section level3">
<h3 id="minor-changes-0-4-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-4-0"></a></h3>
<ul><li><p>Previously, when getting fitted values from an auto-normal model (i.e., the CAR model with <code>family = auto_gaussian()</code>) the fitted values did not include the implicit spatial trend. Now, the <code>fitted.geostan_fit</code> method will return the fitted values with the implicit spatial trend; this is consistent with the behavior of <code>residuals.geostan_fit</code>, which has an option to <code>detrend</code> the residuals. This applies to the SAR and CAR auto-normal specifications. For details, see the documentation pages for <code>stan_car</code> and <code>stan_sar</code>.</p></li>
<li><p>The documentation for the models (<code>stan_glm</code>, <code>stan_car</code>, <code>stan_esf</code>, <code>stan_icar</code>, <code>stan_sar</code>) now uses Latex to typeset the model equations.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="geostan-030">geostan 0.3.0<small>2022-07-11</small><a class="anchor" aria-label="anchor" href="#geostan-030"></a></h2>
<div class="section level3">
<h3 id="new-additions-0-3-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-0-3-0"></a></h3>
<ul><li>New exploratory spatial data analysis functions have been added: the Geary Ratio (GR) and the local Geary’s C. These complement the Moran coefficient and local Moran’s I.</li>
<li>The vignette on spatial autocorrelation has been updated and expanded, including with a short discussion of exploratory spatial data analysis (ESDA).</li>
<li>The vignette on spatial measurement error models/working with ACS data has been completely re-written.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-0-3-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-3-0"></a></h3>
<ul><li>geostan models can now be used with the bridgesampling package for model comparison with Bayes factors (e.g., use <code>bridge_sampler(geostan_fit$stanfit)</code>). By default, geostan only collects MCMC samples for parameters that are expected to be of some interest for users. To become compatible with bridgesampling, the <code>keep_all</code> argument was added to all of the model fitting functions. For important background and details see the bridgesampling package documentation and vignettes on <a href="https://CRAN.R-project.org/package=bridgesampling" class="external-link">CRAN</a>.</li>
<li>stan_car now has an option to provide the connectivity matrix C, which is used to calculate spatial-lag of X (SLX) terms and residual spatial autocorrelation. Previously, there was no option to provide this matrix, as it was taken from the car_parts argument. However, that choice is only appropriate when the WCAR specification is used. Now, if C is missing and the WCAR specification has not been used a warning will appear.</li>
<li>Previously, the <code>lisa</code> function would automatically center and scale the variate before computing local Moran’s I. Now, the variate will be centered and scaled by default but the user has the option to turn the scaling off (so the variate will be centered, but not divided by its standard deviation). This function also row-standardized the spatial weights matrix automatically, but there was no reason why. That’s not done anymore.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="geostan-021">geostan 0.2.1<small>2022-02-09</small><a class="anchor" aria-label="anchor" href="#geostan-021"></a></h2>
<div class="section level3">
<h3 id="minor-changes-0-2-1">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-2-1"></a></h3>
<p>The distance-based CAR models that are prepared by the <code>prep_car_data</code> function have changed slightly. The conditional variances were previously a function of the sum of neighboring inverse distances (in keeping with the specification of the connectivity matrix); this can lead to very skewed frequency distributions of the conditional variances. Now, the conditional variances are equal to the inverse of the number of neighboring sites. This is in keeping with the more common CAR model specifications.</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="geostan-020">geostan 0.2.0<a class="anchor" aria-label="anchor" href="#geostan-020"></a></h2>
<div class="section level3">
<h3 id="major-changes-0-2-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-0-2-0"></a></h3>
<div class="section level4">
<h4 id="models-for-censored-disease-and-mortality-data-0-2-0">Models for censored disease and mortality data<a class="anchor" aria-label="anchor" href="#models-for-censored-disease-and-mortality-data-0-2-0"></a></h4>
<p>geostan now supports Poisson models with censored count data, a common problem in public health research where small area disease and mortality counts are censored below a threshold value. Model for censored outcome data can now be implemented using the <code>censor_point</code> argument found in all of the model fitting functions (stan_glm, stan_car, stan_esf, stan_icar).</p>
</div>
<div class="section level4">
<h4 id="measurement-error-models-improved-0-2-0">Measurement error models improved<a class="anchor" aria-label="anchor" href="#measurement-error-models-improved-0-2-0"></a></h4>
<p>The measurement error models have been updated in three important respects:</p>
<ul><li>There is now a prep_me_data function which must be used to create the list of data for the ME models. See <code><a href="../reference/prep_me_data.html">?prep_me_data</a></code>.</li>
<li>For covariates that are proportions or rates, the ME models now have an option for using a logit transformation on the variable. Again, see <code><a href="../reference/prep_me_data.html">?prep_me_data</a></code> for usage.</li>
<li>Previously, when using <code>stan_car</code>, ME models automatically employed the CAR model as a prior for the modeled covariates. That has changed, so that the default behavior for the ME models is the same across all <code>stan_*</code> models (CAR, GLM, ESF, ICAR).</li>
</ul><p>The second change listed above is particularly useful for variables that are highly skewed, such as the poverty rate. To determine whether a transformation should be considered, it can be helpful to evaluate results of the ME model (with the untransformed covariate) using the <code>me_diag</code> function. The logit transform is done on the ‘latent’ (modeled) variable, not the raw covariate. This transformation cannot be applied to the raw data by the user because that would require the standard errors of covariate estimates (e.g., ACS standard errors) to be adjusted for the transformation.</p>
</div>
</div>
<div class="section level3">
<h3 id="minor-changes-0-2-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-2-0"></a></h3>
<div class="section level4">
<h4 id="a-predict-method-for-marginal-effects-0-2-0">A predict method for marginal effects<a class="anchor" aria-label="anchor" href="#a-predict-method-for-marginal-effects-0-2-0"></a></h4>
<p>A <code>predict</code> method has been introduced for fitted geostan models; this is designed for calculating marginal effects. Fitted values of the model are still returned using <code>fitted</code> and the posterior predictive distribution is still accessible via <code>posterior_predict</code>.</p>
</div>
<div class="section level4">
<h4 id="centering-covariates-with-measurement-error-models-0-2-0">Centering covariates with measurement error models<a class="anchor" aria-label="anchor" href="#centering-covariates-with-measurement-error-models-0-2-0"></a></h4>
<p>The <code>centerx</code> argument has been updated to handle measurement error models for covariates. The centering now happens inside the Stan model so that the means of the modeled covariates (latent variables) are used instead of the raw data mean.</p>
</div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="geostan-011">geostan 0.1.1<a class="anchor" aria-label="anchor" href="#geostan-011"></a></h2>
<div class="section level3">
<h3 id="minor-changes-0-1-1">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-1-1"></a></h3>
<ul><li>The stan files for the CAR model have been combined with the ‘foundation.stan’ file, which compresses the file size considerably.</li>
<li>The vignette on spatial autocorrelation has also been updated to include model diagnostics.</li>
<li>A new example has been added to the stan_car documentation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="geostan-010">geostan 0.1.0<a class="anchor" aria-label="anchor" href="#geostan-010"></a></h2>
<p>geostan’s first release.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Connor Donegan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

